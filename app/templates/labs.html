{% extends "base.html" %}

{% block content %}
<div class="main-content">
    <!-- Hero Section -->
    <section class="hero-section">
        <h1>‚ö° –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h1>
        <p>–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É–¥–æ–±–Ω—ã–º –∏ –±—ã—Å—Ç—Ä—ã–º</p>
    </section>

    <!-- –õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è -->
    <section class="section">
        <h2 class="section-title">üèÉ –õ–∞–±–∞ 5: –õ–µ–Ω–∏–≤—ã–π –ø–æ–∏—Å–∫</h2>
        <div class="lab-demo">
            <p>–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –ø–∞–º—è—Ç—å.</p>
            
            <div class="lab-controls">
                <button class="btn btn-primary" onclick="demoLazySearch()">
                    üîç –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–µ–Ω–∏–≤—ã–π –ø–æ–∏—Å–∫
                </button>
                <button class="btn btn-secondary" onclick="demoLazyCalendar()">
                    üìÖ –õ–µ–Ω–∏–≤—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
                </button>
            </div>
            
            <div class="lab-result" id="lazyResult">
                <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—ã—à–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ª–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –¥–µ–π—Å—Ç–≤–∏–∏</p>
            </div>
        </div>
    </section>

    <!-- FRP —Å–æ–±—ã—Ç–∏—è -->
    <section class="section">
        <h2 class="section-title">‚ö° –õ–∞–±–∞ 6: FRP —Å–æ–±—ã—Ç–∏—è</h2>
        <div class="lab-demo">
            <p>Functional Reactive Programming - —Ä–µ–∞–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p>
            
            <div class="lab-controls">
                <button class="btn btn-primary" onclick="generateEvent('SEARCH')">
                    üîç SEARCH
                </button>
                <button class="btn btn-secondary" onclick="generateEvent('HOLD')">
                    üì• HOLD
                </button>
                <button class="btn btn-success" onclick="generateEvent('BOOKED')">
                    üè® BOOKED
                </button>
                <button class="btn btn-warning" onclick="generateEvent('CANCELLED')">
                    ‚ùå CANCELLED
                </button>
            </div>
            
            <div class="metrics-grid mt-2">
                <div class="metric-card">
                    <div class="metric-value" id="searchCount">0</div>
                    <div class="metric-label">–ü–æ–∏—Å–∫–∏</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="holdCount">0</div>
                    <div class="metric-label">–•–æ–ª–¥—ã</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="bookedCount">0</div>
                    <div class="metric-label">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="cancelledCount">0</div>
                    <div class="metric-label">–û—Ç–º–µ–Ω—ã</div>
                </div>
            </div>
            
            <div class="lab-result mt-2">
                <h4>üìú –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:</h4>
                <div id="eventsList" style="max-height: 200px; overflow-y: auto;">
                    <p>–°–æ–±—ã—Ç–∏—è –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è -->
    <section class="section">
        <h2 class="section-title">üéº –õ–∞–±–∞ 7: –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π</h2>
        <div class="lab-demo">
            <p>–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –ø—Ä–æ—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.</p>
            
            <div class="lab-controls">
                <button class="btn btn-primary" onclick="demoComposition()">
                    üéº –¢–µ—Å—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
                </button>
                <button class="btn btn-secondary" onclick="demoPipeline()">
                    üöÇ –¢–µ—Å—Ç –ø–∞–π–ø–ª–∞–π–Ω–∞
                </button>
            </div>
            
            <div class="lab-result" id="compositionResult">
                <p>–ü—Ä–æ—Ü–µ—Å—Å –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –∑–¥–µ—Å—å</p>
            </div>
        </div>
    </section>

    <!-- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å -->
    <section class="section">
        <h2 class="section-title">üöÄ –õ–∞–±–∞ 8: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å</h2>
        <div class="lab-demo">
            <p>–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</p>
            
            <div class="lab-controls">
                <button class="btn btn-primary" onclick="demoAsyncSearch()">
                    üîç –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
                </button>
                <button class="btn btn-secondary" onclick="demoBatchQuotes()">
                    üí∞ –ü–∞–∫–µ—Ç–Ω—ã–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏
                </button>
                <button class="btn btn-success" onclick="demoParallel()">
                    ‚ö° –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
                </button>
            </div>
            
            <div class="lab-result" id="asyncResult">
                <p>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å</p>
            </div>
            
            <div class="metrics-grid mt-2" id="asyncMetrics" style="display: none;">
                <div class="metric-card">
                    <div class="metric-value" id="asyncTime">0ms</div>
                    <div class="metric-label">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="asyncCount">0</div>
                    <div class="metric-label">–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="asyncSpeed">0/—Å–µ–∫</div>
                    <div class="metric-label">–°–∫–æ—Ä–æ—Å—Ç—å</div>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
// –õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
async function demoLazySearch() {
    const resultDiv = document.getElementById('lazyResult');
    resultDiv.innerHTML = '<div class="loading"></div> –ó–∞–ø—É—Å–∫ –ª–µ–Ω–∏–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞...';
    
    try {
        const response = await fetch('/api/lazy-search?limit=5');
        const data = await response.json();
        
        if (data.results) {
            resultDiv.innerHTML = `
                <h4>‚úÖ –õ–µ–Ω–∏–≤—ã–π –ø–æ–∏—Å–∫ –∑–∞–≤–µ—Ä—à–µ–Ω</h4>
                <p>–ù–∞–π–¥–µ–Ω–æ –æ—Ç–µ–ª–µ–π: ${data.count}</p>
                <div class="mt-2">
                    ${data.results.map(hotel => `
                        <div style="padding: 0.5rem; border-bottom: 1px solid #eee;">
                            <strong>${hotel.hotel.name}</strong> - $${hotel.price_per_night}/–Ω–æ—á—å
                        </div>
                    `).join('')}
                </div>
                <p class="mt-2"><em>–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –ª–µ–Ω–∏–≤–æ - —Ç–æ–ª—å–∫–æ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</em></p>
            `;
        }
    } catch (error) {
        resultDiv.innerHTML = `<div class="alert alert-error">–û—à–∏–±–∫–∞: ${error.message}</div>`;
    }
}

async function demoLazyCalendar() {
    const resultDiv = document.getElementById('lazyResult');
    resultDiv.innerHTML = '<div class="loading"></div> –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è...';
    
    setTimeout(() => {
        const calendarHTML = `
            <h4>üìÖ –õ–µ–Ω–∏–≤—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</h4>
            <p>–î–∞—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é:</p>
            <div class="calendar">
                ${generateCalendarDays()}
            </div>
            <p class="mt-2"><em>–ö–∞–∂–¥–∞—è –¥–∞—Ç–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏</em></p>
        `;
        resultDiv.innerHTML = calendarHTML;
    }, 1000);
}

function generateCalendarDays() {
    const days = [];
    const today = new Date();
    
    for (let i = 0; i < 14; i++) {
        const date = new Date(today);
        date.setDate(today.getDate() + i);
        const dateStr = date.toISOString().split('T')[0];
        const available = Math.random() > 0.3;
        
        days.push(`
            <div class="calendar-day ${available ? 'available' : 'unavailable'}">
                <div>${dateStr}</div>
                <div>${available ? '‚úÖ' : '‚ùå'}</div>
            </div>
        `);
    }
    
    return days.join('');
}

// FRP —Å–æ–±—ã—Ç–∏—è
const eventCounts = { SEARCH: 0, HOLD: 0, BOOKED: 0, CANCELLED: 0 };

async function generateEvent(type) {
    eventCounts[type]++;
    updateEventCounts();
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –≤ —Å–ø–∏—Å–æ–∫
    const eventsList = document.getElementById('eventsList');
    const eventItem = document.createElement('div');
    eventItem.style.padding = '0.5rem';
    eventItem.style.borderBottom = '1px solid #eee';
    eventItem.innerHTML = `
        <strong>${type}</strong> - ${new Date().toLocaleTimeString()}
    `;
    eventsList.insertBefore(eventItem, eventsList.firstChild);
    
    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π
    if (eventsList.children.length > 10) {
        eventsList.removeChild(eventsList.lastChild);
    }
    
    // –ò–º–∏—Ç–∞—Ü–∏—è API –≤—ã–∑–æ–≤–∞
    try {
        if (type === 'SEARCH') {
            await fetch('/api/hotels?city=New York');
        } else if (type === 'HOLD') {
            await fetch('/api/cart', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    hotel_id: "hotel_1",
                    room_type_id: "room_1",
                    checkin: "2024-01-15",
                    checkout: "2024-01-18",
                    guests: 2
                })
            });
        }
    } catch (error) {
        console.log('Event simulation:', error);
    }
}

function updateEventCounts() {
    document.getElementById('searchCount').textContent = eventCounts.SEARCH;
    document.getElementById('holdCount').textContent = eventCounts.HOLD;
    document.getElementById('bookedCount').textContent = eventCounts.BOOKED;
    document.getElementById('cancelledCount').textContent = eventCounts.CANCELLED;
}

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è
async function demoComposition() {
    const resultDiv = document.getElementById('compositionResult');
    resultDiv.innerHTML = '<div class="loading"></div> –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏...';
    
    setTimeout(() => {
        resultDiv.innerHTML = `
            <h4>‚úÖ –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞</h4>
            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <p><strong>–¶–µ–ø–æ—á–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π:</strong></p>
                <ol>
                    <li>validate_dates() ‚Üí ‚úÖ</li>
                    <li>validate_guests() ‚Üí ‚úÖ</li>
                    <li>check_availability() ‚Üí ‚úÖ</li>
                    <li>calculate_price() ‚Üí ‚úÖ</li>
                    <li>apply_discounts() ‚Üí ‚úÖ</li>
                    <li>create_booking() ‚Üí ‚úÖ</li>
                </ol>
            </div>
            <p><em>–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∫–æ–º–ø–æ–Ω–æ–≤–∞–Ω—ã –≤ –µ–¥–∏–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω</em></p>
        `;
    }, 1500);
}

async function demoPipeline() {
    const resultDiv = document.getElementById('compositionResult');
    resultDiv.innerHTML = '<div class="loading"></div> –ó–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞...';
    
    // –ò–º–∏—Ç–∞—Ü–∏—è —à–∞–≥–æ–≤ –ø–∞–π–ø–ª–∞–π–Ω–∞
    const steps = ['–í–∞–ª–∏–¥–∞—Ü–∏—è', '–†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã', '–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏', '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ'];
    let currentStep = 0;
    
    const interval = setInterval(() => {
        if (currentStep < steps.length) {
            resultDiv.innerHTML = `
                <h4>üöÇ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞</h4>
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                    ${steps.map((step, index) => `
                        <div style="padding: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                            ${index < currentStep ? '‚úÖ' : index === currentStep ? 'üîÑ' : '‚è≥'}
                            ${step}
                            ${index === currentStep ? '<div class="loading"></div>' : ''}
                        </div>
                    `).join('')}
                </div>
            `;
            currentStep++;
        } else {
            clearInterval(interval);
            resultDiv.innerHTML = `
                <h4>‚úÖ –ü–∞–π–ø–ª–∞–π–Ω –∑–∞–≤–µ—Ä—à–µ–Ω</h4>
                <p><em>–í—Å–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é</em></p>
            `;
        }
    }, 800);
}

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
async function demoAsyncSearch() {
    const resultDiv = document.getElementById('asyncResult');
    const metricsDiv = document.getElementById('asyncMetrics');
    
    resultDiv.innerHTML = '<div class="loading"></div> –ó–∞–ø—É—Å–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞...';
    metricsDiv.style.display = 'grid';
    
    const startTime = Date.now();
    
    try {
        // –ò–º–∏—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        const searches = [
            fetch('/api/lazy-search?city=New York&limit=3'),
            fetch('/api/lazy-search?city=Miami&limit=3'),
            fetch('/api/lazy-search?city=Chicago&limit=3')
        ];
        
        const results = await Promise.allSettled(searches);
        const endTime = Date.now();
        const duration = endTime - startTime;
        
        const successful = results.filter(r => r.status === 'fulfilled').length;
        
        document.getElementById('asyncTime').textContent = duration + 'ms';
        document.getElementById('asyncCount').textContent = successful;
        document.getElementById('asyncSpeed').textContent = Math.round(successful / (duration / 1000)) + '/—Å–µ–∫';
        
        resultDiv.innerHTML = `
            <h4>‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –∑–∞–≤–µ—Ä—à–µ–Ω</h4>
            <p>–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ${searches.length} –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</p>
            <p>–£—Å–ø–µ—à–Ω–æ: ${successful} –∏–∑ ${searches.length}</p>
            <p><em>–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–∫–æ—Ä–∏–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ ${Math.round(searches.length / (duration / 1000))} —Ä–∞–∑</em></p>
        `;
        
    } catch (error) {
        resultDiv.innerHTML = `<div class="alert alert-error">–û—à–∏–±–∫–∞: ${error.message}</div>`;
    }
}

async function demoBatchQuotes() {
    const resultDiv = document.getElementById('asyncResult');
    resultDiv.innerHTML = '<div class="loading"></div> –†–∞—Å—á–µ—Ç –ø–∞–∫–µ—Ç–Ω—ã—Ö –∫–æ—Ç–∏—Ä–æ–≤–æ–∫...';
    
    setTimeout(() => {
        resultDiv.innerHTML = `
            <h4>‚úÖ –ü–∞–∫–µ—Ç–Ω—ã–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã</h4>
            <p>–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ 25 –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏</p>
            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:</strong></p>
                <p>‚úÖ –£—Å–ø–µ—à–Ω–æ: 23 –∫–æ—Ç–∏—Ä–æ–≤–∫–∏</p>
                <p>‚ùå –û—à–∏–±–∫–∏: 2 –∫–æ—Ç–∏—Ä–æ–≤–∫–∏</p>
                <p>‚ö° –í—Ä–µ–º—è: 1.2 —Å–µ–∫—É–Ω–¥—ã</p>
            </div>
            <p><em>–ë–µ–∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ —ç—Ç–æ –∑–∞–Ω—è–ª–æ –±—ã ~5 —Å–µ–∫—É–Ω–¥</em></p>
        `;
    }, 1200);
}

async function demoParallel() {
    const resultDiv = document.getElementById('asyncResult');
    resultDiv.innerHTML = '<div class="loading"></div> –ó–∞–ø—É—Å–∫ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π...';
    
    const startTime = Date.now();
    
    // –ò–º–∏—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
    const operations = Array.from({length: 10}, (_, i) => 
        new Promise(resolve => setTimeout(resolve, Math.random() * 1000 + 500))
    );
    
    await Promise.all(operations);
    const endTime = Date.now();
    
    resultDiv.innerHTML = `
        <h4>‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã</h4>
        <p>10 –æ–ø–µ—Ä–∞—Ü–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞ ${endTime - startTime}ms</p>
        <p><em>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–Ω—è–ª–æ –±—ã ~8 —Å–µ–∫—É–Ω–¥</em></p>
    `;
}
</script>
{% endblock %}